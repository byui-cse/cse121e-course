<!-- uses https://highlightjs.org/
-->
<!DOCTYPE html>
<html>

<head>
	<title>CSE 121e: Week 01 | Installation</title>

	<link rel="shortcut icon" href="https://byui-cse.github.io/Language-Courses/site/images/fav.ico" type="image/x-icon">
	<script type="text/javascript">
		var codeType = "Erlang"
	</script>
	<script type="text/javascript" src="https://byui-cse.github.io/Language-Courses/site/highlight.pack.js"></script>
	<link rel="stylesheet" href="https://byui-cse.github.io/Language-Courses/site/highlight_styles/xcode.css">
	<link rel="stylesheet" href="https://byui-cse.github.io/Language-Courses/site/weekly.css">
	<script type="text/javascript" src="https://byui-cse.github.io/Language-Courses/site/weekly.js"></script>

</head>

<body onload="fetchSource()">
	<header class="hero-image">
		<section class="hero-text">
			<h1>CSE 121e: Week 01</h1>
			<p>Installation and Purpose</p>
		</section>
	</header>
	<main>

		<h2>The Why of Erlang</h2>
		<h3>Some Background</h3>
		<p>
			The Ericsson corporation in northern Europe had a need. Their old telephone control system was going to be replaced with
			new hardware. They had created the new hardware, but the design and development of the controlling software collapsed. They needed to replace that
			development with something else, or lose a lot of money. Thankfully they had been financing Joe Armstrong and others to explore "a better way of programming telephony applications" as part of Ericsson's research lab expenditures since the late 1980's.
		</p>

		<p>
			In the lab, Armstrong and a few others had been creating and experimenting with a new language they called <a href="https://www.erlang.org">Erlang</a>. Initially conceived as an internal Ericsson language, those responsible, including Armstrong, found that the language worked very well for any system that needed massively concurrent, distributed applications with nearly 100% uptimes. In 1998, the Ericsson corporation open sourced Erlang. Since then, many companies including Google, Amazon, WhatsApp, Digital Ocean, MasterCard, Nintendo, and many others have adopted Erlang as a major part of their design and development core set of tools.
		</p>
		<p>If you want more information on the history of Erlang, Joe Armstrong wrote an <a href="https://dl.acm.org/doi/10.1145/1238844.1238850">article for the ACM</a> outlining how and why Erlang became what it is.</p>
		<h3>Python and Erlang are Cousins</h3>
		<p>Take a look at Figure 1. It shows the ancestry of both <a href="https://www.erlang.org">Erlang</a> and Python. Since <a href="https://en.wikipedia.org/wiki/Modula" target="_blank">Modula</a> is an ancestor of both languages
			you can expect to see some
			things in Erlang that remind you of what you learned about coding when you studied Python. An example of this is the concept of a module.
		</p>
		<figure>
			<img src="images/python_erlang_history.png" alt="place holder">
			<figcaption>Figure 1. - The antecedent languages for Python and Erlang (Grady Booch, Joe Armstrong).</figcaption>
		</figure>

		<h2>Installations</h2>
		<h3>Installing the Editor</h3>
		<p>The editor selected for this course is
			<a href="https://code.visualstudio.com" target="_blank">Visual Studio Code</a>. If you don't already have it, go to the
			<a href="https://code.visualstudio.com" target="_blank">download site for Visual Studio Code</a> to download the installer.
		</p>
		<p>After you have installed VS Code, install the following extensions:</p>
		<ol>
			<li>Everyone: <a href="https://marketplace.visualstudio.com/items?itemName=pgourlain.erlang" target="_blank">erlang</a> by Pierrick Gourlain. This extension will provide syntax highlighting, color coding, and help docs for built-in Erlang functions (BIFs).</li>
			<li>Everyone: <a href="https://marketplace.visualstudio.com/items?itemName=erlang-ls.erlang-ls">Erlang LS</a> by erlang-ls. Provides code completion for function names, variable names, and more.</li>
			<li>Windows users only: <a href="https://marketplace.visualstudio.com/items?itemName=ms-VS Code-remote.remote-wsl">WSL</a> by Microsoft. This extension will let you connect to your Ubuntu WSL installation from VS Code, which you'll be installing in the next steps.</p>
			</li>
		</ol>
		<p>Please realize that it's OK if you don't understand everything about VS Code and these plugins right off the bat. You'll
			gradually learn as you run into a need. The reason for adding the Erlang plugins is that they enable color coding for Erlang in VS Code and show help docs for built-in Erlang functions (BIFs) when you move your mouse over a function and type <kbd>Command</kbd> (MacOS) or <kbd>Ctrl</kbd> (Windows).</p>

		<h3>Installing Erlang</h3>
		<h4>Windows Users</h4>
		<p>It is possible to do Erlang development directly on Windows. However, to make your life easier, we will install <a href="https://learn.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux (WSL)</a> and use Ubuntu Linux.</p>
		<p>Follow the steps below. If you get stuck, check out the <a href="#videos">videos</a> at the bottom of the page.</p>
		<p>First, check your version of Windows.</p>
		<p>Press <kbd>Win+R</kbd> and type <kbd>winver</kbd>. </p>
		<p>In the window that pops up, check your version of Windows.</p>
		<p>
			If your OS is <strong>Windows 10 version 2004 and higher or Windows 11</strong>, open a Windows Command Prompt or Powershell window and type the following command:</p>
		<code class="language-bash dark-code">
		C:\> wsl --install -d Ubuntu
	</code>

		<p>Otherwise, if you are on earlier versions of Windows, follow the instructions on <a href="https://learn.microsoft.com/en-us/windows/wsl/install-manual">the manual install page</a>.</p>


		<p>
			After WSL installation completes, you may be prompted to reboot your laptop.</p>

		<p>After you finish rebooting, open a Command Prompt and type <kbd>wsl</kbd> to enter an Ubuntu Linux command line.
		</p>

		<code class="language-bash dark-code">
		C:\> wsl
	</code>
		<p>Notice your command prompt changes to a Linux-style bash prompt, ending in a $-sign. This lets you know you are in an Ubuntu Linux shell.</p>
		<code class="language-bash dark-code">
		&lt;username&gt;@&lt;computername&gt;:~$
	</code>
		<p>Type the following command to update the Ubuntu package manager with the latest list of packages from its software repositories:</p>

		<code class="language-bash dark-code">$ sudo apt update</code>

		<p>After this command completes, type the following to install Erlang and the rebar3 Erlang build tool:</p>

		<code class="language-bash dark-code">$ sudo apt install rebar3</code>

		<p>Finally, open VS Code in WSL mode by typing the following command.</p>
		<code class="language-bash dark-code">$ code .</code>
		<p>Note the single period "." at the end of the command. The single period is a symbol used on the command line to mean the "current working directory", i.e., the directory that you are in right now.</p>
		<p>After you have opened VS Code in WSL mode, install these two extensions:</p>
		<ol>
			<li><a href="https://marketplace.visualstudio.com/items?itemName=pgourlain.erlang" target="_blank">erlang</a> by Pierrick Gourlain. </li>
			<li><a href="https://marketplace.visualstudio.com/items?itemName=erlang-ls.erlang-ls">Erlang LS</a> by erlang-ls. </li>
		</ol>



		<h4>MacOS Users</h4>
		<p>
			There are many ways to install an Erlang development environment on your device. The easiest way is to use homebrew. If you don't have homebrew installed, <a href="https://youtu.be/G1BV-QyKa44" target="_blank">do it now.</a>
		</p>
		<p>
			After completing the installation of homebrew, enter <kbd>brew install rebar3</kbd> in the terminal.
		</p>
		<h4>Linux Users</h4>
		<p>
			Open a terminal and type the following command to update the Ubuntu package manager with the latest list of packages from its software repositories:</p>

		<code class="language-bash dark-code">$ sudo apt update</code>

		<p>After this command completes, type the following to install Erlang and the rebar3 Erlang build tool:</p>

		<code class="language-bash dark-code">$ sudo apt install rebar3</code>

		<p></p>





		<h2>Test Your Tools</h2>
		<p>Download and unzip <a href="https://byui-cse.github.io/cse121e-course/week01/intro.zip">this file</a>, which contains a project you can use to test your rebar3 and Erlang installation, VS Code, and the plugins you installed in VS Code. After going to where you
			downloaded the file, select it and unzip it. (<a href="#wsl-filesystem">Note for WSL users about where to store your files</a>.)</p>

		<h3>How to Unzip</h3>
		<ul>
			<li><a href="https://support.microsoft.com/en-us/help/14200/windows-compress-uncompress-zip-files" target="_blank">Windows</a></li>
			<li><a href="https://www.lifewire.com/how-to-zip-and-unzip-files-and-folders-on-a-mac-2260188" target="_blank">MacOS</a></li>
			<li><a href="https://www.hostingmanual.net/zipping-unzipping-files-unix/" target="_blank">Linux</a></li>
		</ul>
		<h3>Testing VS Code</h3>
		<p>After the folder is unzipped, run VS Code and open to the folder you have unzipped.</p>
		<p><strong>Windows users:</strong> To open VS Code to the correct folder, open a command line <em>to the folder you have unzipped</em>, enter a WSL command prompt by typing <kbd>wsl</kbd>, then type <kbd>code .</kbd> to open VS Code in WSL mode to that folder. (<a href="#video-opening-vs-code">See the video below</a> if you get stuck.)</p>
		<pre>
<code class="language-bash dark-code">C:\&gt; wsl

$ code .</code></pre>

		<p><strong>Mac and Linux users:</strong> Open VS Code and select <kbd>File->Open Folder</kbd> from the pulldown menu at the top of your screen. Go to the folder you unzipped, not the zipped file, highlight it, and then click Open. </p>
		<p>After you have opened VS Code to the correctly location, you should now see this:</p>
		<img src="images/erlang_opened_folder.png" class="steps_image" alt="a view of the IDE window" />
		<p>Select "<kbd>Yes, I trust the authors</kbd>." </p>

		<p>Next, select the <kbd>Explorer</kbd> icon in the upper-left of the VS Code window. You will be shown a list of what is in the project. Select <kbd>math.erl</kbd> from this list.
		</p>
		<p>
			You will now see the source code in the math.erl file. The code is colored to make it easier to read. You may see two messages pop up in the lower right corner of the screen. Both of these can be safely closed and ignored. VS Code now looks like this.
		</p>
		<img src="images/installation_complete.png" class="steps_image" alt="a view of the IDE window with the Erlang code colored and ready to edit if needed (Hint: it is not needed)" />
		<p>
			While this is a complicated VS Code installation process, you only have to do it once to get what you need for this course.
		</p>
		<p>Your editor is now all set up. </p>

		<p>Now lets see how to use the rebar3 and Erlang tools to compile and execute code in the project. In this class, we will run all code in a <a href="https://en.wikipedia.org/wiki/Read–eval–print_loop">REPL</a>.</p>
		<p>Open a terminal in VS Code by selecting <kbd>Terminal -> New Terminal</kbd> from the menu bar. </p>

		<p>Make sure your terminal is in the <kbd>intro</kbd> directory. If not, use the <a href="https://www.hostinger.com/tutorials/linux-commands" target="_blank"> <kbd>cd</kbd></a> command to change directories into the <kbd>intro</kbd> directory. Then type <kbd>rebar3 shell</kbd>. </p>
		<p>If you have everything set up correctly, you should see something like this:
		</p>
		<img src="images/erlang_repl.png" class="steps_image" alt="a view of the running REPL" />
		<p>
			If you don't see this, contact your instructor for help. If you do, enter <kbd>q().</kbd> to exit the REPL.
		</p>
		<p>Note that the green text says <strong><kbd>Compiling intro</kbd></strong> and <strong><kbd>Booted intro</kbd></strong>. When you typed <kbd>rebar3 shell</kbd>, the <kbd>rebar3</kbd> build tool found the source code contained underneath the <kbd>intro</kbd> directory and compiled it for you. Erlang is a <a href="https://www.freecodecamp.org/news/compiled-versus-interpreted-languages/">compiled language</a>, as opposed to Python, which is an interpreted language. This means that if you ever make a change to your source code, you will need to compile it again before running it or the changes you make will not take effect.</p>

		<p>
			The course heavily uses Unit Tests and <a href="https://youtu.be/ln4WnxX-wrw" target="_blank"> Test Driven Development (TDD).</a> Your weekly tasks will be to write code that passes a set of pre-written Unit Tests for that week. Let's make sure the unit testing portion of <kbd>rebar3</kbd>, which is called <kbd>EUnit</kbd>, is set up correctly. To do this, stay in the <kbd>intro</kbd> directory in your terminal. Enter <kbd>rebar3 eunit</kbd>. You should see something like this:
		</p>
		<img src="images/fib_eunit.png" class="steps_image" alt="a view of the terminal after running an example set of seven unit tests. It concludes by printing, seven tests, zero failures." />
		<p>
			Make sure you see <strong><kbd>7 tests, 0 failures</kbd></strong>. If you do, you are all set up. If you don't see this message, make sure you are in the <kbd>intro</kbd> directory when you run the <kbd>rebar3 eunit</kbd> command. If you still don't see this message, contact your instructor for help.
		</p>
		<p>
			If you want to, you can also run code directly from the REPL. Here is an example.</p>
		<p>Type <kbd>rebar3 shell</kbd> again. Once it has started and you see evidence of a successful setup, enter <kbd>math:fib(10).</kbd> Make sure you include the period at the end. When you do this, the 10th Fibonacci number is calculated amd you should see this.
		</p>

		<img src="images/repl_fib.png" class="steps_image" alt="a view of the terminal after running math colon fib open parentheses 10 close parenthesis period. It concludes by printing fifty five." />

		<p>
			If you don't, contact your instructor for help.
		</p>
		<p>
			Now for the final test. Enter "<kbd>first:printout().</kbd>" including the period, in the REPL. It should print out "It worked!!" in the REPL with "ok" on the line after.
		</p>

		<p>
			If you don't see this, contact your instructor for help.
		</p>

		<p>If you make a change to a source code file, you'll need to re-compile the source code before you try to run it. To compile a module, type <kbd>c(module_name).</kbd> in the REPL, like this:</p>
		<code class="language-bash">
		1> c(math).
	</code>
		<p>Note the period at the end of the line.</p>

		<h2>Workflow</h2>
		<p>
			The work you do using these two tools will flow like this. Each time you are asked to do an assignment, you will download a zip file containing an Erlang project. You will unzip it and then use your text editor, VS Code or some other of your choice, to open the project and write code. You will write the code is such a way that a set of Unit Tests passes. After you learn how to write functions, you will write functions as part of your task from scratch. Prior to learning to write functions, you will be given a stubbed-out function and all you will need to do is fill in the needed code.
		</p>
		<p>
			Write the code to pass one test at a time! Do NOT try to write code that passes all of the tests at once. That will take you longer.
		</p>

		<p>If you follow this pattern for each assignment, you will reduce your workload and increase your learning.</p>

		<h2>Creating a new project</h2>
		<p>Most of the work you do for this class will be in existing projects provided by your instructor. If you need to create a project from scratch, you can use <kbd>rebar3</kbd> to setup up your project by typing the following in the terminal.</p>
		<code class="language-bash dark-code">$ rebar3 new lib &lt;name_of_project&gt;</code>
		<p>This command will create a new Erlang project. The source files for your new project will be stored in the <kbd>src</kbd> directory. You won't need to do that for this week, but keep it in mind for future projects or if you would like to experiment with Erlang.</p>


		<h2 id="videos">Additional Help for Students Using Windows with WSL</h2>
		<p>These videos are optional walkthroughs of how to install Windows Subsystem for Linux (WSL) and the rebar3 build tool.</p>
		<h3>Installing Windows Subsystem for Linux (WSL) and rebar3</h3>
		<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1157612/sp/115761200/embedIframeJs/uiconf_id/41338032/partner_id/1157612?iframeembed=true&playerId=kaltura_player&entry_id=1_rxaghxel&flashvars[localizationCode]=en&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_ybaezuyi" width="608" height="402" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-downloads allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="CSE 121E Erlang: Installing WSL"></iframe>
		<p></p>
		<h3 id="video-opening-vs-code">Opening VS Code in WSL Mode and Testing rebar3 Installation</h3>
		<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1157612/sp/115761200/embedIframeJs/uiconf_id/41338032/partner_id/1157612?iframeembed=true&playerId=kaltura_player&entry_id=1_u0jio0ik&flashvars[localizationCode]=en&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_72js2ful" width="608" height="402" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-downloads allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="CSE 121E Erlang: Tesing Rebar3"></iframe>

		<p></p>

		<h3 id="wsl-filesystem">WSL Filesystem Performance</h2>
			<p>Note that using WSL and keeping your files on the Windows filesystem can result in poor performance for filesystem intensive operations. That will not be a problem for this class, but if you write code that reads/writes frequently to the filesystem, it is recommended that you keep your files in the Linux filesystem, not the Windows filesystem.</p>

			<p>If you would like to keep your files in the Linux filesystem, you should create a directory in your Linux home directory for your Erlang work. You can then access that directory from VS Code in WSL mode. To do this, follow these steps.</p>
			<ol>
				<li>Open a WSL command line by typing <kbd>wsl</kbd> in a Windows command prompt.</li>
				<li>Enter <kbd>cd ~</kbd> to go to your home directory. Note that this will go to your Linux home directory under the Linux filesystem.</li>
				<li>Enter <kbd>mkdir erlang</kbd> to create a directory named <kbd>erlang</kbd>.</li>
				<li>Enter <kbd>cd erlang</kbd> to go to your <kbd>erlang</kbd> directory.</li>
				<li>Enter <kbd>code .</kbd> to open VS Code in WSL mode with your <kbd>erlang</kbd> directory as the current working directory.</li>
			</ol>
			<pre><code class="language-bash">
C:\> wsl

$ cd ~
$ mkdir erlang
$ cd erlang
$ code .
	</code></pre>

			<p>You can now use VS Code to create new projects in your <kbd>erlang</kbd> directory.</p>

			<p>When you are done, you can exit VS Code and then <kbd>exit</kbd> from the WSL command line.</p>

			<p>When you want to work on your Erlang projects, open a WSL command line and enter <kbd>cd ~/erlang</kbd>. Then enter <kbd>code .</kbd> to open VS Code in WSL mode with your <kbd>erlang</kbd> directory as the current working directory.</p>
			<pre><code class="language-bash">
C:\> wsl

$ cd ~/erlang
$ code .
	</code></pre>
	</main>

	<footer>
		<a rel="license" href="http://creativecommons.org/licenses/by/4.0/" target="_blank"><img alt="This work is licensed under a Creative Commons Attribution 4.0 International License" style="border-width: 0;" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work is licensed under a
		<a rel="license" href="http://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.
	</footer>
</body>

</html>