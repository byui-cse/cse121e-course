<!-- uses https://highlightjs.org/
-->
<!DOCTYPE html>
<html>

<head>
	<title>CSE 121e: Week 01 | Installation</title>

	  <link rel="shortcut icon" href="https://byui-cse.github.io/Language-Courses/site/images/fav.ico" type="image/x-icon">
        <script type="text/javascript">
                 var codeType = "Erlang"
        </script>
        <script type="text/javascript" src="https://byui-cse.github.io/Language-Courses/site/highlight.pack.js"></script>
        <link rel="stylesheet" href="https://byui-cse.github.io/Language-Courses/site/highlight_styles/xcode.css">
        <link rel="stylesheet" href="https://byui-cse.github.io/Language-Courses/site/weekly.css">
        <script type="text/javascript" src="https://byui-cse.github.io/Language-Courses/site/weekly.js"></script>
		
</head>

<body onload="fetchSource()">
<header class="hero-image">
  <section class="hero-text">
    <h1>CSE 121e: Week 01</h1>
    <p>Installation and Purpose</p>
  </section>
</header>
<main>

	<h2>The Why of Erlang</h2>
	<h3>Some Background</h3>
	<p>
		The Ericsson corporation in northern Europe had a need. Their old telephone control system was going to be replaced with 
	new hardware. They had created the new hardware, but the design and development of the controlling software collapsed. They needed to replace that 
	development with something else, or lose a lot of money. Thankfully they had been financing Joe Armstrong and others to explore "a better way of programming telephony applications" as part of Ericsson's research lab expenditures since the late 1980's. 
	</p>

	<p>
		In the lab, Armstrong and a few others had been creating and experimenting with a new language they called <a href="https://www.erlang.org">Erlang</a>. Initially conceived as an internal Ericsson language, those responsible, including Armstrong, found that the language worked very well for any system that needed massively concurrent, distributed applications with nearly 100% uptimes. In 1998, the Ericsson corporation open sourced Erlang. Since then, many companies including Google, Amazon, WhatsApp, Digital Ocean, MasterCard, Nintendo, and many others have adopted Erlang as a major part of their design and development core set of tools. 
	</p>
	<p>If you want more information on the history of Erlang, Joe Armstrong wrote an <a href="https://dl.acm.org/doi/10.1145/1238844.1238850">article for the ACM</a> outlining how and why Erlang became what it is.</p>
	<h3>Python and Erlang are Cousins</h3>
	<p>Take a look at Figure 1. It shows the ancestry of both <a href="https://www.erlang.org">Erlang</a> and Python. Since <a href="https://en.wikipedia.org/wiki/Modula"  target="_blank">Modula</a> is an ancestor of both languages
       	you can expect to see some
	things in Erlang that remind you of what you learned about coding when you studied Python. An example of this is the concept of a module.
	</p>
<figure>
  <img src="images/python_erlang_history.png" alt="place holder">
  <figcaption>Figure 1. - The antecedent languages for Python and Erlang (Grady Booch, Joe Armstrong).</figcaption>
</figure>

<h2>Installations</h2>
	<h3>Windows Users</h3>
	<p>It is possible to do Erlang development directly on Windows. However, to make your life easier, we will install <a href="https://learn.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux (WSL)</a> and use Ubuntu Linux.</p>
	<p>Follow the steps below. If you get stuck, check out the <a href="#videos">videos</a> at the bottom of the page.</p>
	<p>First, check your version of Windows.</p>
	<p>Press <kbd>Win+R</kbd> and type <kbd>winver</kbd>. </p>
	<p>In the window that pops up, check your version of Windows.</p>
	<p>
		If your OS is <strong>Windows 10 version 2004 and higher or Windows 11</strong>, open a Windows Command Prompt or Powershell window and type the following command:</p>
	<code class="language-bash dark-code">
		C:\> wsl --install -d Ubuntu
	</code>

	<p>Otherwise, if you are on earlier versions of Windows, follow the instructions on <a href="https://learn.microsoft.com/en-us/windows/wsl/install-manual">the manual install page</a>.</p>


	<p>
		After WSL installation completes, you may be prompted to reboot your laptop.</p>
		
		<p>After you finish rebooting, open a Command Prompt and type <kbd>wsl</kbd> to enter an Ubuntu Linux command line.
	</p>

	<code class="language-bash dark-code">
		C:\> wsl
	</code>
	<p>Notice your command prompt changes to a Linux-style bash prompt, ending in a $-sign. This lets you know you are in an Ubuntu Linux shell.</p>
	<code class="language-bash dark-code">
		&lt;username&gt;@&lt;computername&gt;:~$
	</code>
	<p>Type the following command to update the Ubuntu package manager with the latest list of packages from its software repositories:</p>
		
	<code class="language-bash dark-code">$ sudo apt update</code>

	<p>After this command completes, type the following to install Erlang and the rebar3 Erlang build tool:</p>

	<code class="language-bash dark-code">$ sudo apt install rebar3</code>

	<p>Finally, open VS Code in WSL mode by typing the following command.</p>
	<code class="language-bash dark-code">$ code .</code>
	<p>Note the single period "." at the end of the command. The single period is a symbol used on the command line to mean the "current working directory", i.e., the directory that you are in right now.</p>

	<h3>MacOS Users</h3>
	<p>
		There are many ways to install an Erlang development environment on your device. The easiest way is to use homebrew. If you don't have homebrew installed, <a href="https://youtu.be/G1BV-QyKa44" target="_blank">do it now.</a>
	</p>
	<p>
		After completing the installation of homebrew, enter <kbd>brew install rebar3</kbd> in the terminal.
	</p>
	<h3>Linux Users</h3>
	<p>
		Open a terminal and type the following command to update the Ubuntu package manager with the latest list of packages from its software repositories:</p>
		
		<code class="language-bash dark-code">$ sudo apt update</code>

		<p>After this command completes, type the following to install Erlang and the rebar3 Erlang build tool:</p>

		<code class="language-bash dark-code">$ sudo apt install rebar3</code>

		<p></p>

	<h3>Everybody</h3>
	<p>
		Your project creation and code compiler tools are now all set up and ready to go.
	</p>
	<h3>The Editor</h3>
	<p>The editor selected for this course is 
	<a href="https://code.visualstudio.com" target="_blank">Visual Studio Code</a>, but if you have a favorite text editor, not <kbd>Word</kbd> or <kbd>Pages</kbd>, feel free to use it. 
	<h3>WSL and Linux Users</h3>
	<p>
		Follow the <a href="https://www.c-sharpcorner.com/article/how-to-install-visual-studio-code-on-wsl/" target="_blank"> <kbd>Ubuntu</kbd> installation and startup instructions</a>. You can ignore the rest.
	</p>
	<p>To open VS Code under WSL, open a WSL command line to the directory you are developing in. Then type <kbd>code .</kbd> as shown below.</p>
	<code class="language-bash dark-code">$ code .</code>
	<p></p>
	<h3>MacOS Users</h3>
	<p>
		Go to the
		<a href="https://code.visualstudio.com" target="_blank">site for Visual Studio Code</a> download the installer.
	</p>

	<h3>Everybody</h3>
	<p>
	 Since you will 
	be writing in Erlang, add <a href="https://marketplace.visualstudio.com/items?itemName=pgourlain.erlang" target="_blank">this plugin</a> to VSCode.
	</p>
	<p>Please realize that it's OK if you don't understand everything about VSCode and this plugin right off the bat. You'll 
	gradually learn as you run into a need. The reason for adding the Erlang plugin is that it enables color coding for Erlang in VSCode and the showing of help docs for built-in Erlang functions (BIFs) when you move your mouse over a function and type <kbd>Command</kbd> (MacOS) or <kbd>control</kbd> (Windows).</p>
	

<h2>Test Your Tools</h2>
	<p>Download and unzip <a href="https://byui-cse.github.io/cse121e-course/week01/intro.zip">this directory</a> that contains a project you can use to test your rebar3 and Erlang installation, VSCode, and the plugin you installed in VSCode. After going to where you 
	downloaded the file, select it and unzip it. (<a href="#wsl-filesystem">Note for WSL users about where to store your files</a>.)</p>
	<h3>How to Unzip</h3>
	<ul>
		<li><a href="https://support.microsoft.com/en-us/help/14200/windows-compress-uncompress-zip-files" target="_blank">Windows</a></li>
		<li><a href="https://www.lifewire.com/how-to-zip-and-unzip-files-and-folders-on-a-mac-2260188" target="_blank">MacOS</a></li>
		<li><a href="https://www.hostingmanual.net/zipping-unzipping-files-unix/" target="_blank">Linux</a></li>
	</ul>	
	<h3>Testing VSCode</h3>
	<p>After the folder is unzipped, run VSCode and select <kbd>File->Open Folder</kbd> from the pulldown menu at the top of your screen. Go to the folder you unzipped, not the zipped file, highlight it, and then click Open. You should now see this.</p>
	<img src="images/erlang_opened_folder.png" class="steps_image" alt="a view of the IDE window"/>
	<p>Select "<kbd>Yes, I trust the authors</kbd>." On the left of the window under <kbd>intro</kbd>, select <kbd>src</kbd> and then <kbd>math.erl</kbd>. You will then see a new message pop up at the bottom of the screen. It looks like this.
<img src="images/select_plugin.png" class="steps_image" alt="a view of the IDE window with an option to select a plugin in the lower-right"/>
  Select "<kbd>Search Marketplace</kbd>."
  </p>
  <p>
  	A new list appears in the left-hand view. It is a list of possible Erlang plugins for VSCode. Select the one named "<kbd>Erlang LS</kbd>." You will then see this.
  </p>
  <img src="images/installing_plugin.png" class="steps_image" alt="a view of the IDE window with an option to install the Erlang LS extension and the description of the extension"/>
  <p>
  	Select <kbd>install</kbd> near the top-center of the right-hand view in the IDE. There will be a short delay, depending on your internet speeds, and then you will see an option to <kbd>uninstall</kbd>. Do NOT select this option. Instead, select the <kbd>Explorer</kbd> icon in the upper-left of the window. You will be shown a list of what is in the project. Select <kbd>math.erl</kbd> from this list.
  </p>
  <p>
  	You will now see the source code in the math.erl file. The code is colored to make it easier to read. You will also see two messages in the lower right corner of the screen. Both of these can be safely closed and ignored. VSCode now looks like this.
  </p>
  <img src="images/installation_complete.png" class="steps_image" alt="a view of the IDE window with the Erlang code colored and ready to edit if needed (Hint: it is not needed)"/>
  <p>
  	While this is a complicated VSCode installation process, you only have to do it once to get what you need for this course.
  </p>
	<p>Your editor is now all set up. Now lets see how to use the rebar3 and Erlang tools to compile and execute code in the project. In this class, we will run all code in a <a href="https://en.wikipedia.org/wiki/Read–eval–print_loop">REPL</a>. To do so, use the terminal and <a href="https://www.hostinger.com/tutorials/linux-commands" target="_blank"> <kbd>cd</kbd>, change directory,</a> into the <kbd>intro</kbd> directory. Then type <kbd>rebar3 shell</kbd>. If you have everything set up correctly, you should see this. 
	</p>
	<img src="images/erlang_repl.png" class="steps_image" alt="a view of the running REPL"/>
	<p>
		If you don't see this, contact your instructor for help. If you do, enter <kbd>q().</kbd> to exit the REPL.
	</p>
	<aside class="left_wide">Note that the green text says <strong><kbd>Compiling intro</kbd></strong> and <strong><kbd>Booted intro</kbd></strong>. This means that when you type <kbd>rebar3 shell</kbd>, the <kbd>rebar3</kbd> build tool is finding the source code contained underneath the <kbd>intro</kbd> directory and compiling it for you. Erlang is a <a href="https://www.freecodecamp.org/news/compiled-versus-interpreted-languages/">compiled language</a>, as opposed to Python, which is an interpreted language. This means that if you ever make a change to your source code, you will need to compile it again before running it or the changes you make will not take effect.</aside>
	<p>&nbsp;</p>
	<p>
		The course heavily uses Unit Tests and <a href="https://youtu.be/ln4WnxX-wrw" target="_blank"> Test Driven Development (TDD).</a> Your weekly tasks will be to write code that passes a set of pre-written Unit Tests for that week. Let's make sure the unit testing portion of <kbd>rebar3</kbd>, <kbd>EUnit</kbd>, is set up correctly. To do this, stay in the <kbd>intro</kbd> directory in your terminal. Enter <kbd>rebar3 eunit</kbd>. You should see this. 
	</p>
	<img src="images/fib_eunit.png" class="steps_image" alt="a view of the terminal after running an example set of seven unit tests. It concludes by printing, seven tests, zero failures."/>
	<p>
		Make sure you see 7 tests, 0 failures. If you do, you are all set up. If you don't see this message, make sure you are in the <kbd>intro</kbd> directory when you run the <kbd>rebar3 eunit</kbd> command. If you still don't see this message, contact your instructor for help.
	</p>
	<p>
		If you want to, you can also run code directly from the REPL. Here is an example. Type <kbd>rebar3 shell</kbd> again. Once it has started and you see evidence of a successful setup, enter <kbd>math:fib(10).</kbd> Make sure you include the period at the end. When you do this, the 10th Fibonacci number is calculated amd you should see this.
	</p>

	<img src="images/repl_fib.png" class="steps_image" alt="a view of the terminal after running math colon fib open parentheses 10 close parenthesis period. It concludes by printing fifty five."/>

	<p>
		If you don't, contact your instructor for help.
	</p>
	<p>
		Now for the final test. Enter "<kbd>first:printout().</kbd>", including the period, in the REPL. It should print out "It worked!!" in the REPL with "ok" on the line after.
	</p>

	<p>
		If you don't see this, contact your instructor for help.
	</p>

	<p>If you make a change to a source code file, you'll need to re-compile the source code before you try to run it. To compile a module, type <kbd>c(module_name).</kbd> in the REPL, like this:</p>
	<code class="language-bash">
		1> c(math).
	</code>
	<p>Note the period at the and of the line.</p>

<h2>Workflow</h2>
	<p>
		The work you do using these two tools will flow like this. Each time you are asked to do an assignment, you will download a zip file containing an Erlang project. You will unzip it and then use your text editor, VSCode or some other of your choice, to open the project and write code. You will write the code is such a way that a set of Unit Tests passes. After you learn how to write functions, you will write functions as part of your task from scratch. Prior to learning to write functions, you will be given a stubbed-out function and all you will need to do is fill in the needed code.
  </p>
  <p>
  	Write the code to pass one test at a time! Do NOT try to write code that passes all of the tests at once. That will take you longer.
  </p>

	<p>If you follow this pattern for each assignment, you will reduce your workload and increase your learning.</p>

	<h2>Creating a new project</h2>
	<p>Most of the work you do for this class will be in existing projects provided by your instructor. If you need to create a project from scratch, you can use <kbd>rebar3</kbd> to setup up your project like this.</p>
	<code class="language-bash dark-code">$ rebar3 new lib &lt;name_of_project&gt;</code>
	<p>This command will create a new Erlang project. The source files for your new project will be stored in the <kbd>src</kbd> directory. You won't need to do that for this week, but keep it in mind for future projects or if you would like to experiment with Erlang.</p>

	<h2 id="videos">Helpful Videos (optional)</h2>
	<p>These videos are optional walkthroughs of how to install Windows Subsystem for Linux (WSL) and the rebar3 build tool.</p>
	<h3>Installing Windows Subsystem for Linux (WSL) and rebar3</h3>
	<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1157612/sp/115761200/embedIframeJs/uiconf_id/41338032/partner_id/1157612?iframeembed=true&playerId=kaltura_player&entry_id=1_rxaghxel&flashvars[localizationCode]=en&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_ybaezuyi" width="608" height="402" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-downloads allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="CSE 121E Erlang: Installing WSL"></iframe>
	<p></p>
	<h3>Opening VS Code in WSL Mode and Testing rebar3 Installation</h3>
	<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1157612/sp/115761200/embedIframeJs/uiconf_id/41338032/partner_id/1157612?iframeembed=true&playerId=kaltura_player&entry_id=1_u0jio0ik&flashvars[localizationCode]=en&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_72js2ful" width="608" height="402" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-downloads allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="CSE 121E Erlang: Tesing Rebar3"></iframe>

	<!-- <h2 id="wsl-filesystem">WSL Filesystem Performance</h2> -->
	
	</main>

	<footer>
      <a
        rel="license"
        href="http://creativecommons.org/licenses/by/4.0/"
        target="_blank"
        ><img
          alt="This work is licensed under a Creative Commons Attribution 4.0 International License"
          style="border-width: 0;"
          src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a
      ><br />This work is licensed under a
      <a
        rel="license"
        href="http://creativecommons.org/licenses/by/4.0/"
        target="_blank"
        >Creative Commons Attribution 4.0 International License</a
      >.
    </footer>
</body>
</html>
